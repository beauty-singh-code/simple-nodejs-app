pipeline {

    agent any
	   tools {
			nodejs 'node js'
			}
   
    stages {
        
        stage('Checkout Code') {
            steps {
            
                git credentialsId: 'git_credential', url: 'https://github.com/beauty-singh-code/simple-nodejs-app.git'
                
            }
        }

       
        stage('Install Dependencies') {
            steps {
                // Execute npm install within the workspace.
                sh 'npm install'
            }
        }

       stage('Build') {
            steps {
              sh 'CI=false npm run build'
            }
        }
		
		stage('Test') {
            steps {
                // Execute tests.
                sh 'npm test'
            }
        }
		
		
    }
}
